<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="else/web.css">
</head>

<body>
    <div class="nav">
        <div class="title">
            <span>链时代😎</span>
        </div>
        <ul>
            <li class="btn"><a href="#">网络</a></li>
            <li class="btn"><a href="#">区块链</a></li>
            <li class="btn"><a href="#">前端</a></li>
            <li class="btn"><a href="#">后端</a></li>
            <li class="btn"><a href="#">机器学习</a></li>
            <li class="btn"><a href="#">算法</a></li>
        </ul>
    </div>
    <div class="main">
        <div class="left_nav">
            <div class="avatar"><img src="else/avatar.jpg" alt=""></div>
            <div class="log">算法</div>
            <div class="number">
                <a href="#basic" id="dot1">1</a>
                <div class="bridge1"></div>
                <a href="#skill" id="dot2">2</a>
                <div class="bridge2"></div>
                <a href="#photo" id="dot3">3</a>
            </div>
            <div class="music">
                <audio id="audio" src="else/music1.mp3"></audio>
                <img src="else/music.jpg" alt="">
            </div>
        </div>
        <div class="right">
            <div id="basic">
                <div class="basic_content">
                    <h3>基本信息</h3>
                    <p>Web前端开发是从网页制作演变而来的，涵盖的知识面非常广，基本的开发技术包括</p>
                    <p> html、CSS3、DOM、JavaScript、Ajax等。一个优秀的Web前端开发工程师不仅</p>
                    <p> 需要掌握这些技术，还需要有一定的后台知识、对网站构架有一定了解，还要掌握</p>
                                     <p>  一定的SEO网站优化技术。</p>
                    <p>  前端开发工程师的主要职责是与交互设计师、视觉设计师协作，根据设计图用HTML</p>
                    <p>   和CSS完成页面制作。同时，在此基础之上，对完成的页面进行维护和对网站前端性</p>
                    <p>   能做相应的优化，把网站的界面更好地呈现给用户。</p>
                </div>
            </div>
            <div id="skill">
                <span class="skill_for">专精方向</span>
                <div class="info">
                    <div class="infol">
                        <div class="imgBx">
                            <img src="else/s2.jpg" alt="">
                        </div>
                        <div class="content">
                            <p>熟悉HTML5网站的架构和开发</p>
                        </div>

                    </div>
                    <div class="infol">
                        <div class="imgBx">
                            <img src="else/s3.jpg" alt="">
                        </div>
                        <div class="content">
                            <p>熟悉使用 CSS3 写响应式网站、动画等</p>
                        </div>
                    </div>
                    <div class="infol">
                        <div class="imgBx">
                            <img src="else/s4.jpg" alt="">
                        </div>
                        <div class="content">
                            <p>能使用 JS 制作简单的程序、交互与特效</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="photo">
                <span>照片展示</span>
                <div class="photoBox">
                    <div class="arrow-l"><p>&#60</p></div>
                    <div class="arrow-r"><p>&#62</p></div>
                    <ol class="circleAll">
                        <li class="circle"></li>
                        <li class="circle"></li>
                        <li class="circle"></li>
                        
                    </ol>
                    <ul class="photo">
                        <li><img src="else/lun1.JPG" alt=""></li>
                        <li><img src="else/lun2.jpg" alt=""></li>
                        <li><img src="else/lun3.jpg" alt=""></li>
                        <li><img src="else/lun1.JPG" alt=""></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="right_some">
            <div class="navbox">
                <div class="box_top">
                    <img id='xiaoimg' src="else/cry.png" alt="">
                </div>
                <ul class="features">
                    <li class="chat_li">
                        <a href="#">
                            <img src="else/微信.png" alt="">
                            <p>chat</p>
                        </a>
                    </li>
                    <li class="game_li">
                        <a href="else/mine.html" target="_self">
                            <img src="else/游戏.png" alt="">
                            <p>game</p>
                        </a>
                    </li>
                    <li class="music_li">
                        <a href="#">
                            <img src="else/音乐.png" alt="">
                            <p>music</p>
                        </a>
                    </li>
                    <li class="return_li">
                        <a href="#">
                            <img src="else/返回.png" alt="">
                            <p>return</p>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="chatbox">
                <div class="display_area">
                    <div class="close">x</div>
                    <div class="message">
                        <div class="mymes">
                            <img src="else/s13.jpg" alt="">
                            <span>好好好</span>
                        </div>
                        <div class="hermes">
                            <img src="else/avatar.jpg" alt="">
                            <span>您好，这里是链时代工作室,有什么可以您？</span>
                        </div>
                    </div>
                </div>
                <div class="lowsend">
                    <textarea name="" rows="" cols="" id="input_box"></textarea>
                    <button id="send">发送(S)</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        var navbox = document.querySelector('.navbox');
        var img = document.getElementById('xiaoimg')
        navbox.addEventListener('mouseover', function () {
            img.src = 'else/笑脸.png';
        })
        navbox.addEventListener('mouseout', function () {
            img.src = 'else/cry.png';
        })
        var btns = document.querySelectorAll('.btn');
        var log = document.querySelector('.log');
        btns[2].classList.add('current');
        for (var i = 0; i < btns.length; i++) {
            btns[i].addEventListener('click', function () {
                for (var i = 0; i < btns.length; i++) {
                    btns[i].classList.remove('current');
                }
                this.classList.add('current');
                var current = document.querySelector('.current');
                var temp = current.innerHTML;
                log.innerHTML = temp;
            }
            )
        }
        // 控制聊天框
        var chat_li = document.querySelector('.chat_li')
        var close1 = document.querySelector('.close')
        var send = document.querySelector('#send');
        var input_box = document.querySelector('#input_box');
        var message = document.querySelector('.message');
        var chatbox = document.querySelector('.chatbox')
        chat_li.onclick = function () {
            chatbox.style.display = 'block';
        }
        close1.onclick = function () {
            chatbox.style.display = 'none';
            input_box.value = '';
            console.log(1);
        }
        send.onclick = function () {
            if (input_box.value != "") {
                var text = input_box.value;
                message.innerHTML += '<div class="mymes"><img src="s13.jpg"><span>' + text + '</span></li>'
                input_box.value = '';
            }
            else
                alert('输入的消息不能为空！');
        }

        // 控制播放音乐
        var music_li = document.querySelector('.music_li');
        var music = document.getElementById("audio");
        var flag = 1;
        music_li.onclick = function () {
            if (flag) {
                music.play();
                flag = 0;
            }
            else {
                music.pause();
                flag = 1;
            }
        }
        //控制轮播图

        var photo = document.querySelector('.photo');
        var left = document.querySelector('.arrow-l');
        var right = document.querySelector('.arrow-r');
        var circle = document.querySelectorAll('.circle');
        var num = 0;
        var initial = photo.style.left;
        var count = 0;
        
        // 动画函数封装
        // 要有两个变量，一个表示要移动的元素，一个表示移动的目标
        // 并且完成缓动的效果，缓动通过变化步长实现
        function animate(obj,target){
            clearInterval(obj.timer);
            obj.timer = setInterval(function(){
            var step = (target - obj.offsetLeft) / 10;
            step = step > 0 ? Math.ceil(step) : Math.floor(step);
            if (obj.offsetLeft == target){
                clearInterval(obj.timer);
            }
            obj.style.left = obj.offsetLeft + step + 'px';
            }, 30);
        }
        
        circle[0].classList.add('list');
        for (var i = 0; i < circle.length; i++) {
            circle[i].setAttribute('index',i);
            circle[i].addEventListener('click', function () {
                for (var i = 0; i < circle.length; i++) {
                    circle[i].classList.remove('list');
                }
                this.classList.add('list');
                var index = this.getAttribute('index');
                var target =  - index*600;
                num = index;
                count = index;
                animate(photo,target);
            })
            
        };
        right.addEventListener('click',function(){
            if(num == 3){
                photo.style.left = initial;
                num = 0;
            }
            num ++;
            animate(photo, -num*600);  
            count++;
            if (count == 3){
                count = 0;
            }
            for (var i = 0; i < circle.length; i++) {
                    circle[i].classList.remove('list');
                }
                circle[count].classList.add('list');

            
        })
        left.addEventListener('click',function(){
            if(num == 0){
                num = 3;
                photo.style.left = -num*600 + 'px';
                
            }
            num --;
            animate(photo, -num*600);  
            count --;
            if (count == -1){
                count = 2;
            }
            for (var i = 0; i < circle.length; i++) {
                    circle[i].classList.remove('list');
                }
                circle[count].classList.add('list');

            
        })

    
        var auto = setInterval(function(){
                        right.click();
                    },2000);
        

        photo.addEventListener('mouseenter',function(){
            clearInterval(auto);
        })
        
        photo.addEventListener('mouseleave',function(){
            auto = setInterval(function(){
                        right.click();
                    },1500);
        });

    </script>
</body>

</html>